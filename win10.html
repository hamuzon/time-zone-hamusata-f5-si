<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Windows 10 Support End Countdown</title>
<link rel="stylesheet" href="https://unpkg.com/98.css">
<style>
html, body {
  height: 100%;
  width: 100%;
  margin: 0;
  font-family: "MS Sans Serif", sans-serif;
  background: #008080;
  display: flex;
  justify-content: center;
  align-items: center;
}
.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  width: 95%;
  max-width: 500px;
  min-width: 260px;
}
.window {
  width: 100%;
  box-sizing: border-box;
}
.countdown {
  font-size: clamp(1.5rem, 5vw, 2.5rem);
  font-weight: bold;
  text-align: center;
  margin: 0.5rem 0;
  font-family: monospace;
  color: #000000;
}
.message,
.language-button,
.info-button,
.license-card,
.info-window-card,
a {
  color: #008000;
}
.message {
  font-size: clamp(1rem, 3vw, 1.3rem);
  text-align: center;
  margin: 0.5rem 0;
}
.language-button,
.info-button {
  margin-top: 0.5rem;
  width: 100%;
}
.license-card {
  margin-top: 0.7rem;
  padding: 0.5rem;
  text-align: center;
  background: #c0e0ff33;
  border: 2px solid #00f;
  border-radius: 4px;
  font-size: 0.8rem;
}
.info-window-card { display: none; }
a { text-decoration: underline; }
@media screen and (max-width: 400px) {
  .countdown { font-size: 1.3rem; }
  .message { font-size: 0.9rem; }
  .license-card { font-size: 0.7rem; }
}
</style>
</head>
<body>
<div class="wrapper">
  <div class="window countdown-window" data-target="1760475900">
    <div class="title-bar">
      <div class="title-bar-text">
        <span class="lang-ja">Windows 10 サポート終了まであと</span>
        <span class="lang-en">Time Left Until Windows 10 Support Ends</span>
      </div>
      <div class="title-bar-controls">
        <button aria-label="Close" onclick="closeWindow(this.closest('.window'))"></button>
      </div>
    </div>
    <div class="window-body">
      <p class="countdown">--:--:--</p>
      <p class="message">--</p>
      <button class="button language-button" onclick="toggleLanguage()">
        <span class="lang-ja">言語切替</span>
        <span class="lang-en">Toggle Language</span>
      </button>
      <button class="button info-button" onclick="toggleLibraryWindow()">
        <span class="lang-ja">使用ライブラリ</span>
        <span class="lang-en">Libraries</span>
      </button>
      <div class="window license-card">
        &copy; <span id="year"></span> <a href="https://github.com/hamuzon" target="_blank" rel="noopener">@hamuzon / @hamusata</a>
      </div>
    </div>
  </div>
  <div class="window info-window-card">
    <div class="title-bar">
      <div class="title-bar-text">
        <span class="lang-ja">使用ライブラリ</span>
        <span class="lang-en">Libraries</span>
      </div>
      <div class="title-bar-controls">
        <button aria-label="Close" onclick="toggleLibraryWindow()">×</button>
      </div>
    </div>
    <div class="window-body">
      <ul>
        <li><a href="https://jdan.github.io/98.css/" target="_blank" rel="noopener">98.css 公式サイト</a></li>
        <li><a href="https://unpkg.com/98.css" target="_blank" rel="noopener">98.css 本体</a></li>
        <li><a href="https://fonts.google.com/specimen/Montserrat" target="_blank" rel="noopener">Google Fonts: Montserrat</a></li>
      </ul>
    </div>
  </div>
</div>
<script>
const baseYear = 2025;
const nowYear = new Date().getFullYear();
document.getElementById("year").textContent = nowYear > baseYear ? `${baseYear}~${nowYear}` : `${baseYear}`;
let lang='ja';
const langJaElems = document.querySelectorAll('.lang-ja');
const langEnElems = document.querySelectorAll('.lang-en');
function updateLang() {
  langJaElems.forEach(el => el.style.display = (lang==='ja')?'inline':'none');
  langEnElems.forEach(el => el.style.display = (lang==='en')?'inline':'none');
  updateCountdown();
}
function toggleLanguage() { lang = (lang==='ja') ? 'en' : 'ja'; updateLang(); }
updateLang();
function pad(n){ return String(n).padStart(2,'0'); }
function getWeekday(date, lang){
  const weekdays = (lang==='ja') ? ['日','月','火','水','木','金','土'] : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  return weekdays[date.getDay()];
}
function updateCountdown(){
  const now = new Date();
  document.querySelectorAll('.countdown-window').forEach(win => {
    const targetUnix = parseInt(win.dataset.target, 10);
    const targetUTC = new Date(targetUnix*1000);
    const diff = targetUTC - now;
    const countdownEl = win.querySelector('.countdown');
    const messageEl = win.querySelector('.message');
    if(diff < 0){
      countdownEl.textContent = (lang==='ja') ? '0日 00:00:00' : '0d 00:00:00';
      messageEl.textContent = (lang==='ja') ? 'サポートは終了しました。' : 'Support has ended.';
      return;
    }
    const totalSeconds = Math.floor(diff/1000);
    const days = Math.floor(totalSeconds/86400);
    const hours = Math.floor((totalSeconds%86400)/3600);
    const minutes = Math.floor((totalSeconds%3600)/60);
    const seconds = totalSeconds%60;
    const dayLabel = (lang==='ja') ? '日' : 'd';
    countdownEl.textContent = `${days}${dayLabel} ${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
    const jstTarget = new Date(targetUTC.getTime() + 9*60*60*1000);
    const year = jstTarget.getFullYear();
    const month = jstTarget.getMonth()+1;
    const date = jstTarget.getDate();
    const weekday = getWeekday(jstTarget, lang);
    messageEl.textContent =
      (lang==='ja') ? `${year}年${month}月${date}日（${weekday}）にサポートが終了します。` :
                      `Support will end on ${month}/${date}/${year} (${weekday}).`;
  });
}
updateCountdown();
setInterval(updateCountdown,1000);
function toggleLibraryWindow(){
  const lib = document.querySelector('.info-window-card');
  lib.style.display = (lib.style.display==='block')?'none':'block';
}
function closeWindow(el){ el.style.display='none'; }
</script>
</body>
</html>
